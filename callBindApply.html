<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      const flow = {
        getFlow(url, params) {
          this(url, params);
          console.log([1, 2, 3, 4, 5, 6, 7]);
          return [1, 2, 3, 4, 5, 6, 7];
        },
        postFlow(params) {
          console.log(this);
          console.log(params);
          return [...params];
        },
        delFlow(serve, params) {
          return serve(params);
        },
      };
      //  æ¨¡æ‹Ÿrequest
      const ajax = function (url, params) {
        return new Promise((resolve) => {
          console.log(url, params);
          resolve("success");
        });
      };
      // æ¨¡æ‹ŸVueæ„é€ å‡½æ•°
      const Vue = function () {
        this.name = "vue";
      };
      // æ¨¡æ‹Ÿç»„ä»¶çš„main.js
      const install = function (vue, option) {
        vue.prototype.$FC = {};
        vue.prototype.$FC.baseUrl = option.baseUrl;
        vue.prototype.$FC.serve = option.ajax;
      };
      // æ¨¡æ‹ŸVue.use(options)
      install(Vue, {
        baseUrl: "localhost",
        ajax: ajax,
      });
      // æ¨¡æ‹Ÿç»„ä»¶FlowChatè°ƒç”¨æ¥å£
      const vm = new Vue();
      // vm.$FC.serve(url, params);
      class FN {
        constructor(vm) {
          this.$FC = vm.$FC;
        }
        getFlow() {
          console.log(this);
        }
      }
      const fn = new FN(vm);
      console.log(fn);
      const contactPath = function (...params) {
        console.log(
          "ğŸš€ ~ file: callBindApply.html ~ line 62 ~ contactPath ~ params",
          params,
        );

        const url = params.join("/");
        return url.replace(/\/+/g, "/");
      };
      console.log(
        contactPath(
          "/fdasf/fadsf/fadsf/",
          "/qwewqe/wqeqwr/qw/rqwe/qwe/qwe/wqeqe/qwe/",
          "eqwe/qweqw/eqw/r/qweq",
        ),
      );
    </script>
  </body>
</html>
