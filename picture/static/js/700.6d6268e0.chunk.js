"use strict";(self.webpackChunkhi_react=self.webpackChunkhi_react||[]).push([[700],{700:function(t,e,i){i.r(e),i.d(e,{default:function(){return I}});var n=i(932),a=i(450),r=i(936),s=i(933),o=i(782),c=i(199),u=i(27),l=0;function g(t){return Math.random()*(t+1)|0}var d={purity:{0:"100",1:"010",2:"001"},categories:{0:100,1:"010",2:"001"},sorting:{0:"date-added",1:"random",2:"views",3:"favorites",4:"toplist"},atleast:{0:"1920x1080",1:"2560x1440",2:"3840x2160"}},m="https://wallhaven.cc",h={purity:d.purity[g(1)],categories:d.categories[g(2)],sorting:d.sorting[g(4)],atleast:d.atleast[g(2)]},p=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){var e,i,a,r,s,o,c,g,d,p,f=arguments;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=f.length>0&&void 0!==f[0]?f[0]:h.purity,i=f.length>1&&void 0!==f[1]?f[1]:{categories:h.categories,sorting:h.sorting,atleast:h.atleast},a=i.categories,r=void 0===a?h.categories:a,s=i.sorting,o=void 0===s?h.sorting:s,c=i.atleast,g=void 0===c?h.atleast:c,d=m+"/api/v1/search?purity=".concat(e,"&categories=").concat(r,"&sorting=").concat(o,"&atleast=").concat(g),t.next=6,u.Z.get(d);case 6:return p=t.sent,console.log(">>>>>>getPic|".concat(d,"| request times is>>>>>"),++l),t.abrupt("return",p.data.data);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=i(310),v=i(388),x=function(t){(0,o.Z)(i,t);var e=(0,c.Z)(i);function i(){var t;return(0,r.Z)(this,i),(t=e.call(this)).imgError=function(){t.loadingImg(),t.nextImg()},t.imgLoad=function(){t.loadedImg(),t.timeId=setTimeout((function(){clearTimeout(t.timeId),t.nextImg()}),25e3)},t.imgClick=function(){clearTimeout(t.timeId),t.imgError()},t.state={picList:[],curImg:{},imgIndex:1e3*Math.random()|0,loading:!0},t.timeId=null,t}return(0,s.Z)(i,[{key:"freshImgList",value:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){var e;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=window.pictureConfig.data,this.setState({picList:e,curImg:e[0]}),t.next=4,p();case 4:e=t.sent,this.setState({picList:e,curImg:e[0]});case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"nextImg",value:function(){this.setState({imgIndex:this.state.imgIndex+1})}},{key:"loadedImg",value:function(){this.setState({loading:!1})}},{key:"loadingImg",value:function(){this.setState({loading:!0})}},{key:"componentDidMount",value:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(this.props),this.freshImgList();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state,e=t.imgIndex,i=t.picList,n=t.loading;return(0,v.jsx)("div",{className:"App",children:(0,v.jsxs)("header",{className:"App-header",children:[0!==i.length?(0,v.jsx)("img",{className:n?"img_hide":"",src:i[e%i.length].path,onError:this.imgError.bind(this),onLoad:this.imgLoad,onDoubleClick:this.imgClick,alt:"lose it"}):"isLoading",n?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"loading"}),(0,v.jsx)("div",{className:"loading"})]}):""]})})}}]),i}(f.Component),I=x}}]);