"use strict";(self.webpackChunkhi_react=self.webpackChunkhi_react||[]).push([[404],{8703:function(t,e,n){n.d(e,{Z:function(){return a}});var r=n(6302),i=n(2388);var a=function(t){var e=(0,r.s0)();return(0,i.jsx)("div",{className:"back_btn",style:t.style,onClick:function(){e(t.path||"/")},children:t.text||"B"})}},9404:function(t,e,n){n.r(e),n.d(e,{default:function(){return k}});var r=n(9932),i=n(2398),a=n(8450),o=n(936),s=n(9962),c=n(5782),u=n(7271),l=n(4027),d=0;function g(t){return Math.random()*(t+1)|0}var p={purity:{0:"100",1:"010",2:"001"},categories:{0:100,1:"010",2:"001"},sorting:{0:"date-added",1:"random",2:"views",3:"favorites",4:"toplist"},atleast:{0:"1920x1080",1:"2560x1440",2:"3840x2160"}},f="https://wallhaven.cc",h={purity:p.purity[g(2)],categories:p.categories[g(2)],sorting:p.sorting[g(4)],atleast:p.atleast[g(2)]},m=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var e,n,i,a,o,s,c,u,g,p,m=arguments;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=m.length>0&&void 0!==m[0]?m[0]:h.purity,n=m.length>1&&void 0!==m[1]?m[1]:{categories:h.categories,sorting:h.sorting,atleast:h.atleast},i=n.categories,a=void 0===i?h.categories:i,o=n.sorting,s=void 0===o?h.sorting:o,c=n.atleast,u=void 0===c?h.atleast:c,g=f+"/api/v1/search?apikey=cbSjyOZcDBn5jitF2AwLg8vnueiPa9zo&purity=".concat(e,"&categories=").concat(a,"&sorting=").concat(s,"&atleast=").concat(u),t.next=6,l.Z.get(g);case 6:return p=t.sent,console.log(">>>>>>getPic|".concat(g,"| request times is>>>>>"),++d),t.abrupt("return",p.data.data);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v=n(2310),y=n(4089);function w(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u6587\u4ef6")+"."+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"txt"),n=new File([t],e,{type:"text/plain"}),r=window.URL.createObjectURL(n),i=document.createElement("a");i.style.display="none",i.href=r,i.setAttribute("download",decodeURI(e)),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(r)}var b=n(8703),x=n(2388),j=function(t){(0,c.Z)(n,t);var e=(0,u.Z)(n);function n(){var t;return(0,o.Z)(this,n),(t=e.call(this)).imgError=function(){t.loadingImg(),t.nextImg()},t.imgLoad=function(){t.loadedImg(),t.timeId=setTimeout((function(){clearTimeout(t.timeId),t.nextImg()}),25e3)},t.imgClick=function(){clearTimeout(t.timeId),t.imgError()},t.state={picList:[],curImg:{},imgIndex:1e3*Math.random()|0,loading:!0,isNsfw:!1},t.timeId=null,t}return(0,s.Z)(n,[{key:"freshImgList",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var e,n,a,o,s,c;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=!1,n=(0,i.Z)(this.props.router.search,1),a=n[0],o=a.get("p"),s=window.pictureConfig.data,o&&o.endsWith("1")&&(this.setState({isNsfw:!0}),e=!0,s=window.pPictureConfig.data),this.setState({picList:s}),t.next=8,m(o||"100",{categories:e?"001":void 0});case 8:s=t.sent,c="export const imgsList = [",s.forEach((function(t){c="".concat(c,'\n      {path: "').concat(t.path,'"},')})),w(c+="\n    ]","p100c"),this.setState({picList:s});case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"nextImg",value:function(){this.setState({imgIndex:this.state.imgIndex+1})}},{key:"loadedImg",value:function(){this.setState({loading:!1})}},{key:"loadingImg",value:function(){this.setState({loading:!0})}},{key:"componentDidMount",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.freshImgList();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state,e=t.imgIndex,n=t.picList,r=t.loading;return(0,x.jsxs)("div",{className:"App",children:[(0,x.jsx)(b.Z,{}),(0,x.jsxs)("header",{className:"App-header",children:[0!==n.length?(0,x.jsx)("img",{className:r?"img_hide":"",src:n[e%n.length].path,onError:this.imgError.bind(this),onLoad:this.imgLoad,onDoubleClick:this.imgClick,alt:"lose it"}):"isLoading",r?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"loading"}),(0,x.jsx)("div",{className:"loading"})]}):""]})]})}}]),n}(v.Component),k=(0,y.EN)(j)},4089:function(t,e,n){n.d(e,{W1:function(){return d},eb:function(){return l},EN:function(){return g}});var r=n(4572);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var o=n(2398),s=n(8698),c=n(6302),u=n(2388);function l(){var t=(0,s.lr)(),e=(0,o.Z)(t,2),n=e[0];e[1];return n.get("p")||void 0}function d(){var t=(0,s.lr)(),e=(0,o.Z)(t,2),n=e[0];e[1];return n.get("page")||void 0}function g(t){return function(e){var n=(0,c.TH)(),r=(0,c.s0)(),i=(0,c.UO)(),o=(0,s.lr)();return(0,u.jsx)(t,a(a({},e),{},{router:{location:n,navigate:r,params:i,search:o}}))}}}}]);